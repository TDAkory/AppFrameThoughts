# One page note for system architecture designer

## 绪论

1. **架构**：架构是系统中组件的基本组织方式，涵盖了组件之间的关系、与环境的关系，以及指导系统设计和发展的原则。
2. **系统**：系统是由组件组成的集合，用于完成特定的功能。它可以是一个单独的应用程序、一个完整的系统、子系统、系统之系统、产品线、整个企业或任何其他感兴趣的集合。
3. **环境**：环境或上下文决定了系统的开发、运行、政策以及对其产生影响的外部条件和设置。
4. **任务**：任务是由一个或多个利益相关者通过系统来实现特定目标的操作或用途。

系统架构（System Architecture）

- 系统架构是系统整体高层次的结构表示。
- 它是系统的骨架和根基，支撑和链接各个部分，包括组件、连接件、约束规范以及指导这些内容设计与演化的原理。
- 系统架构是刻画系统整体抽象结构的一种手段。
- 架构设计的目的是对系统进行一系列相关的抽象，以指导系统的设计与实现。
- 架构设计在系统开发过程中起着关键作用，决定了系统的健壮性和生命周期的长短。

架构设计的作用：

1. 解决复杂的需求分析问题。
2. 解决**非功能属性**在系统设计中的重要问题。
3. 解决生命周期长、扩展性要求高的系统整体结构问题。
4. 解决系统基于组件的集成问题。
5. 解决业务流程再造的问题。

软件架构发展阶段

基础研究阶段（**模块化开发方法**：高内聚、低耦合、模块大小适度、接口简单）----> 概念体系和核心技术形成（**组件化技术**： 可组装性和可插拔性、组件化比模块化更独立、比应用集成结合的更加紧密）----> 理论体系完善与发展（软件架构描述与表示、软件架构分析、设计与测试；软件架构发现、演化与重用；软件架构开发方法；软件架构风格；动态软件架构）----> 普及应用阶段（**软件架构是软件生命周期的重要产物**，影响各个阶段）

软件架构的常用分类和建模方法

1. 分层架构：TCP-IP协议栈、表现层-业务层-持久层-数据库
2. 事件驱动架构：事件进行通信，分布式异步架构模式，适用于松散耦合系统。事件队列->分发器->事件通道->事件处理器
3. 微核架构：插件架构，Core只包含系统运行的最小功能，插件则互相独立来实现具体业务逻辑
4. 微服务架构：每一个服务就是一个独立的部署单元。RESTful API模式、RESTful应用模式、消息集中模式（Message Broker）
5. 云架构：基于云平台的架构，将应用程序和数据部署在云平台上，实现弹性扩展、高可用、高可靠、高安全。（处理单元、虚拟中间件）

**软件架构的模型**：这4种模型并非完全独立，要结合不同模型才能准确、全面地反映软件架构。

1. **结构模型**：是<span style="color: yellow;">最直观、普遍的</span>建模方法，通过架构的*构件、连接件和其他概念*刻画结构，力求反映系统的配置、约束、隐含假设条件、风格和性质等重要语义内容，研究其的核心是*架构描述语言*。
2. **框架模型**：和结构模型类似，但不太侧重描述结构细节，更侧重整体结构，主要以一些特殊问题为目标建立只针对和适应问题的结构。
3. **动态模型**：是对结构或框架模型的补充，主要研究*系统“大颗粒”行为的性质*，比如描述系统的重新配置或演化，这里的动态可指系统总体结构的配置、建立或拆除通信或计算的过程，这类系统模型常是激励型的。
4. **过程模型**：研究构造系统的<span style="color: yellow;">步骤和过程</span>，其结构是遵循某些过程脚本的结果。

软件架构应用场景及未来发展

| 架构风格                          | 适用场景                                             |
| --------------------------------- | ---------------------------------------------------- |
| 管道/过滤器风格                   | 用于将系统分成若干独立的步骤                         |
| 主程序/子系统和面向对象的架构风格 | 用于对组件内部进行设计                               |
| 虚拟机风格                        | 用于构造解释器或专家系统                             |
| C/S 和 B/S 风格                   | 适合于数据和处理分布在一定范围，通过网络连接构成系统 |
| 平台/插件风格                     | 用于具有插件扩展功能的应用程序                       |
| MVC 风格                          | 用于用户交互程序的设计                               |
| SOA 风格                          | 用在企业集成等方面                                   |
| C2 风格                           | 用于 GUI 软件开发，用以构建灵活和可扩展的应用系统等  |

架构发展主线可归纳为模块化编程、面向对象编程、构件技术、面向服务开发技术和云技术。

## 计算机基础知识

### 计算机系统概述——关键部件介绍

#### 处理器（CPU）

- **核心地位**：是计算机系统运算与控制的核心部件。
- **指令集分类**
  - **复杂指令集（CISC）**：以Intel、AMD的x86CPU为代表。
  - **精简指令集（RISC）**：以ARM和Power为代表。
- **其他相关处理器**
  - **图形处理器（GPU）**：属于特殊类型处理器，拥有数百或数千个内核，经优化可并行运行大量计算，在深度学习和机器学习领域应用广泛。
  - **信号处理器（DSP）**：专门用于实时的数字信号处理。
  - **现场可编程逻辑门阵（FPGA）**：也属于处理器相关范畴。

#### 存储器

- **基本定义**：利用半导体、磁、光等介质制成的电子设备，用于存储数据。
- **按硬件结构分类**：可分为SRAM、DRAM、NVRAM、Flash、EPROM、Disk等。
- **存储体系结构（按与处理器物理距离分）**
  - **片上缓存**：在处理器核心中直接集成的缓存，采用SRAM结构，容量小，速度快。
  - **片外缓存**：在处理器核心外的缓存，需经交换互联开关访问，由SRAM构成，容量较片上缓存略大，可称为L2Cache、L3Cache或平台Cache（Platform Cache）。
  - **主存（内存）**：采用DRAM结构，以独立的部件/芯片存在，通过总线与处理器连接。
  - **外存**：如硬盘、光盘等设备，这类设备访问速度慢，但容量大，且掉电后能保持数据。

#### 总线

- **定义**：计算机部件间遵循特定协议，以特定格式和控制逻辑实现数据交换与传输的形式。
- **分类（按在计算机中的位置）**
  - **内总线**：用于各类芯片内部互连，也可称为片上总线（On - Chip Bus）或片内总线。
  - **系统总线**：计算机中CPU、主存、I/O接口的总线。
  - **外部总线**：计算机板与外部设备之间，或计算机系统之间互联的总线，又称通信总线。
- **性能指标**：常见的有总线带宽、总线服务质量QoS、总线时延和总线抖动等。
- **类型**
  - **并行总线**：主要包括PCI、PCIe、ATA（IDE）等。
  - **串行总线**：主要包括USB、SATA、CAN、RS - 232、RS - 485、RapidIO和以太网等。

#### 接口

- **定义**：同一计算机不同功能层之间的通信规则。
- **常见类型**：显示类接口（HDMI、DVI等）、音频输入输出类接口（TRS、RCA、XLR等）、网络类接口（RJ45、FC等）、PS/2接口、USB接口、SATA接口、LPT（打印接口）、RS - 232接口等。

#### 外部设备

- **常规设备**：键盘、鼠标、显示器、扫描仪、摄像头、麦克风、打印机、光驱、各型网卡、各型存储卡/盘等。
- **移动与穿戴设备**：加速计、GPS、陀螺仪、感光设备、指纹识别设备等。
- **工业等特殊领域设备**：测温仪、测速仪、轨迹球、各型操作面板、红外/NIFC等感应设备、各种场强测量设备、功率驱动装置、各型机械臂、各型液压装置、压装装置等。

### 计算机软件

软件系统是在计算机硬件系统上运行的**程序、相关文档资料和数据的集合**，作用是扩充计算机系统功能、提高系统效率。

计算机软件通常分为**系统软件**和**应用软件**两大类。

#### 操作系统

**操作系统组成**：由操作系统内核（Kernel）和诸多附加配套软件组成，附加软件包括图形用户界面程序、常用应用程序以及支持应用软件开发和运行的各种软件构件（如应用框架、编译器、程序库等）。其中，操作系统内核是能提供进程管理（任务管理）、存储管理、文件管理和设备管理等功能的软件模块，是操作系统最基本部分，驻留内存，以CPU最高优先级运行，可执行特权指令，能直接访问外设和全部主存空间，负责系统资源管理与分配。

**操作系统的作用**：管理计算机中运行的程序并分配各种软硬件资源；为用户提供友善的人机界面；为应用程序的开发和运行提供高效率平台。此外，还具有辅导用户操作（帮助功能）、处理软硬件错误、监控系统性能、保护系统安全等作用。

**操作系统的特征**:

- **并发性**：多道程序环境下，一段时间内宏观上多个程序同时运行，但单CPU环境下，每一时刻只有一个程序在执行。
- **共享性**：操作系统中的资源被多个并发执行的进程共同使用，而非被一个进程独占。
- **虚拟性**：把一个物理实体变成逻辑上的多个对应物，或把物理上的多个实体变成逻辑上的一个对应物的技术。
- **不确定性**：多道程序环境中，进程走走停停，执行并非一贯到底。

**操作系统的分类**：